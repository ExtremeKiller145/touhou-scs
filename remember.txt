
# BUG NOTES:
- If bullet collisions are delayed, its from some weird onExit mismatch stuff. Restart/recompiling and switching onExit a few times eventually might fix it. Current theory: WSLiveEditor has stability issues when alt-tabbing back in before it finishes. Wait it out.

- If adding a new trigger/object, make sure you check EVERY default (dont repeat the KeyframeAnim mistake)

Keep stage practice in mind: 
all spells are modular and should be able to run in a vacuum

# STAGES #
Premise: Comet shatters as it crashes into gensokyo, some spot a strange structure/shapes on the biggest broken piece as it crashed. 
(show this on title screen and allude during dialogue)
Stage 1: Outskirts of human village and shrine
Midboss: Daiyousei
Endboss: Cirno
Stage 2: Forest of Magic entrance -> leading deeper as stage progresses
Midboss: Mystia
Endboss: Mystia
Stage 3: Deep in Forest of Magic near Alice's house
Midboss: Alice
Endboss: Alice
Stage 4: Youkai Trail (trees & foliage, increasing bamboo throughout stage progress)
Midboss: Kogasa
Endboss: Aya Shameimaru (reporter who gives the spill to where meteor landed, she was heading there herself)
Stage 5: Bamboo forest near Eientei
Midboss: Reisen or tewi
Endboss: Reisen
Stage 6: crash site (a bit of fire near the end, approaches alien structure )
Midboss: none
Endboss: ??? (formerly called Nameless Entity)

TODO:

- Replace all number range restrictions with the cleaner (min < x < max) format

- Optimization: Use Keyframe Anim's time-mod to possibly re-use keyframe components. This will depend on t/hold timing ratios.

- Optimization: Make disableAllBullets component use Multitarget instead of per-bullet (to save on object count)

- Make spawn trigger warn if spawning a component but not matching its assertSpawnOrder

- Formerly add and test enemy collision components in misc

- Investigate why group field not being replaced for target groups 401 & 395 in main.js
(theory: intentionally left out bc those fields should never have non-solid groups?)


Better Trigger spread (not needed for a while)


Within lib.py:

Auto Scale Trigger Reset Validation (optional, complicated but possible): 
make a system that goes through all triggers, creates an execution tree (i.e tracks spawn trigger chains) and looks to see if a scale trigger's reset would ever get run AFTER the bullet is triggered again elsewhere.

TODO SYSTEMS:



Health system (enemy & player)
Enemies
All UI (health, bombs, score)
Title screen
Backgrounds
3 Character movement profiles --> has been set, not finalized
Keybind editor
Bullet types (only 4 out of 8)
Lazers
Main Bullet SFX
Player Shot types
Item Pickups



GROUP/OBJ BUDGET:
Groups (9999 limit): 
 
Bullet types: 3,000 - 5,000 
Pickups: 300 - 500 
Player shots: 1,050 - 1,800 
Common enemies: 544 - 1,000 
Total usage: 4,894 - 8,300 groups 
Remaining: 1,699 - 5,105 groups 
Objects (250k target): 
 
Current: 20k 
Spells: 10k - 30k 
Common enemies: 11k - 36k 
Player shots: 1.5k - 4k 
Backgrounds: 2k - 5k 
UI: 3k - 8k 
Visual effects: 5k - 10k 
Total projected: 52.5k - 113k objects 
Remaining budget: 137k - 197k objects



MAKE BULLETS BOUNCE (off walls and such):
use advanced follow with all 0 on mode 2
use edit advanced follow to change velocity

PREVENT SPAWN-LIMIT BUGS in Multitarget:
A spawn trigger can only activate once per tick. 
To activate a group mutliple times in one tick, use multiple spawn triggers with different groups.
