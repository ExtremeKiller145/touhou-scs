
## NEW SYSTEM ##

Keep stage practice in mind: 
all spells are modular and should be able to run in a vacuum

# STAGES #
Premise: Comet shatters as it crashes into gensokyo, some spot a strange structure/shapes on the biggest broken piece as it crashed. 
(show this on title screen and allude during dialogue)
Stage 1: Outskirts of human village and shrine
Midboss: Daiyousei
Endboss: Cirno
Stage 2: Forest of Magic entrance -> leading deeper as stage progresses
Midboss: Mystia
Endboss: Mystia
Stage 3: Deep in Forest of Magic near Alice's house
Midboss: Alice
Endboss: Alice
Stage 4: Youkai Trail (trees & foliage, increasing bamboo throughout stage progress)
Midboss: Kogasa
Endboss: Aya Shameimaru (reporter who gives the spill to where meteor landed, she was heading there herself)
Stage 5: Bamboo forest near Eientei
Midboss: Reisen or tewi
Endboss: Reisen
Stage 6: crash site (a bit of fire near the end, approaches alien structure )
Midboss: none
Endboss: ??? (formerly called Nameless Entity)

TODO:


Better Trigger spread (not needed for a while)


Within lib.lua:

Auto Scale Trigger Reset Validation (optional, complicated but possible): 
make a system that goes through all triggers, creates an execution tree (i.e tracks spawn trigger chains) and looks to see if a scale trigger's reset would ever get run AFTER the bullet is triggered again elsewhere.

TODO SYSTEMS:
# URGENT ! ! !
Fix guidercircle group assignment in the level. check to ensure no conflicts with other groups. make sure it is synced withe guidercircle definitions in lib.lua


Health system (enemy & player)
Enemies
All UI (health, bombs, score)
Title screen
Backgrounds
3 Character movement profiles --> has been set, not finalized
Keybind editor
Bullet types (only 4 out of 8)
Lazers
Main Bullet SFX
Player Shot types
Item Pickups



GROUP/OBJ BUDGET:
Groups (9999 limit): 
 
Bullet types: 3,000 - 5,000 
Pickups: 300 - 500 
Player shots: 1,050 - 1,800 
Common enemies: 544 - 1,000 
Total usage: 4,894 - 8,300 groups 
Remaining: 1,699 - 5,105 groups 
Objects (250k target): 
 
Current: 20k 
Spells: 10k - 30k 
Common enemies: 11k - 36k 
Player shots: 1.5k - 4k 
Backgrounds: 2k - 5k (massively reduced!) 
UI: 3k - 8k 
Visual effects: 5k - 10k 
Total projected: 52.5k - 113k objects 
Remaining budget: 137k - 197k objects



FUTURE PROMPT NOTES FOR AI PYTHON REWRITE:
```
i will show the seperation of what i want to be keyword only arguments or not. ill put 'argName = _' to indicate. if it doesnt have it, its positional (not necessarily optional though). If its starred with '*' then its optional:

Spawn(time, target, spawnOrdered, *remap = _, *spawnDelay = _)
Toggle(time, target, activateGroup)
MoveTowards(time, target, targetDir, *t = _, dist = _, *type = _, *rate = _, *dynamic = _)
MoveBy(time, target, dx = _, dy = _, *t = _, *type = _, *rate = _)
GotoGroup(time, target, location, *t = _, *type = _, *rate = _)
Rotate(time, target = _, angle = _, *center = _, *t = _, *type = _, *rate = _)
PointToGroup(time, target, targetDir, *t = _, *type = _, *rate = _)
Scale(time, target, factor = _, *divide = _, *t = _, *type = _, *rate = _)
Pulse(time, target, hsb_type, *fadeIn = _, *t = _, *fadeOut = _)
Follow(time, target, targetDir, *t = _)
Alpha(time, target, opacity = _, *t = _)
Stop(time, target, *useControlID = _)
Pause(time, target, *useControlID = _)
Resume(time, target, *useControlID = _)

This is implemented far later but still keep in mind:

instant_Radial(time, component, guiderCircle, bulletType, *spacing = _, *numOfBullets = _, *centerAt = _)

instant_Arc(time, component, guiderCircle, bulletType, spacing = _, numOfBullets = _, *centerAt = _, *_radialBypass = _)

instant_Line(time, component, targetDir, bulletType, numOfBullets = _, tFast = _, tSlow = _, dist = _, *delay = _, *rate = _, *type = _)

```

```
Notes:

In my experience the group strings were causing me a lot of headache. I have a new idea: why not use an integer range that normal groups would never use? for example, something like 100001, counting up. Then we pass it everywhere like normal, and the only change would be that when adding it in `main.js` we man 100000 => new_group (via unknown_g()) instead of 'unknown_g3 => new_group'. We would only have to change how its parsed in main.js, but it would otherwise work.


1. **CamelCase for methods:** `moveTowards`, `assertSpawnOrder`, `gotoGroup` ✓
2. **Unknown groups:** 100000+ integer range ✓
3. **No vector2 helper:** Direct `dx`, `dy` parameters ✓
what i want is that in usage you would specify `dx = 1, dy = 4` so something like this:
moveBy(0.5, 501, dx=1, dy=2, Easing(t=2.4, rate=2.0))
4. **3 main files:** `enums.py`, `component.py`, `lib.py` (plus utils/misc) ✓
5. **Import style:** `import touhou_scs.enums as e` etc. ✓
6. Error handling philosophy: always raise errors immediately.
7. Names

```
